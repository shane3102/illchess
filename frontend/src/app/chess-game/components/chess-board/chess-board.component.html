<div *ngIf="boardView">
    <div *ngFor="let rank of ranks">
        <div style="display: flex; justify-content: center;">
            <div *ngFor="let file of files">
                <app-chess-square 
                (pieceDraggedInfoEmitter)="pieceDraggedChange($event)" 
                (pieceDroppedInfoEmitter)="pieceDroppedChange($event)"
                [piece]="
                    (this.boardView | async)?.piecesLocations ? 
                    (this.boardView | async)?.piecesLocations![file+rank] ? 
                    (this.boardView | async)?.piecesLocations![file+rank] : 
                    undefined : 
                    undefined"
                [illegalMoveView]="illegalMoveView"
                [squareInfo]="{file: file, rank: rank}">
            </app-chess-square>
            </div>
        </div>
    </div>
    <div style="text-align: center;">
        {{(boardView | async)!.gameState}}
        {{(boardView | async)!.victoriousPlayerColor}}
    </div>
</div>